{% extends 'layout.html' %}

{% block content %}
<div class="searchResultsContainer">
{% for track in tracks %}
  <div class="trackEntry" uri={{ track.uri }}>
    <nav class="left">
      <img src={{ track.album.images[2].url }}>
    </nav>
    <section class="right">
      <div class="top">
        <p>{{ track.name }}</p>
      </div>
      <div class="bottom">
        <p>{{ track.artists[0].name }}</p>
      </div> 
    </section>
  </div>
{% endfor %}
</div>
<script>
$(".searchResultsContainer").css('border', 'solid var(--gray-light) 0.5px');
var socket = io.connect('http://{{ip}}:8080');

$(".trackEntry").click(function() {
  var uri = $( this ).attr("uri");
  console.log(uri);
  $(this).css("background-color", '#d3adff').fadeOut( 1000 );
  socket.emit('sendTrack', {data: uri});
  window.location.pathname = "/amigo";
});
</script>

{% endblock %}/
